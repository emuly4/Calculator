<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LUFA Library - RNDIS Ethernet Demo: Lib/TCP.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LUFA Library - RNDIS Ethernet Demo
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a00053.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">TCP.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="a00056.html">TCP.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a11249837b77c0f03863a1c375aa9ada6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00053.html#a11249837b77c0f03863a1c375aa9ada6">TCP_TCPTask</a> (USB_ClassInfo_RNDIS_Device_t *const RNDISInterfaceInfo, <a class="el" href="a00103.html">Ethernet_Frame_Info_t</a> *const <a class="el" href="a00071.html#aef9503cade38a6b550a948e5c4cc8d2b">FrameOUT</a>)</td></tr>
<tr class="separator:a11249837b77c0f03863a1c375aa9ada6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a02a29f93af673139608232298ef119"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00053.html#a3a02a29f93af673139608232298ef119">TCP_Init</a> (void)</td></tr>
<tr class="separator:a3a02a29f93af673139608232298ef119"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1707fcc52e95e8435a772bef4493c1ac"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00053.html#a1707fcc52e95e8435a772bef4493c1ac">TCP_SetPortState</a> (const uint16_t Port, const uint8_t State, void(*Handler)(<a class="el" href="a00127.html">TCP_ConnectionState_t</a> *, <a class="el" href="a00119.html">TCP_ConnectionBuffer_t</a> *))</td></tr>
<tr class="separator:a1707fcc52e95e8435a772bef4493c1ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21124735556432c7a437998aa748cd67"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00053.html#a21124735556432c7a437998aa748cd67">TCP_GetPortState</a> (const uint16_t Port)</td></tr>
<tr class="separator:a21124735556432c7a437998aa748cd67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca742bd3ad2aa285f08818037ef70db8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00053.html#aca742bd3ad2aa285f08818037ef70db8">TCP_SetConnectionState</a> (const uint16_t Port, const <a class="el" href="a00107.html">IP_Address_t</a> *RemoteAddress, const uint16_t RemotePort, const uint8_t State)</td></tr>
<tr class="separator:aca742bd3ad2aa285f08818037ef70db8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6647c19403ac0a3be1e7319e1f35898"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00053.html#ad6647c19403ac0a3be1e7319e1f35898">TCP_GetConnectionState</a> (const uint16_t Port, const <a class="el" href="a00107.html">IP_Address_t</a> *RemoteAddress, const uint16_t RemotePort)</td></tr>
<tr class="separator:ad6647c19403ac0a3be1e7319e1f35898"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af804b04b55c02de98ff34ca198eeaa5d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00123.html">TCP_ConnectionInfo_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00053.html#af804b04b55c02de98ff34ca198eeaa5d">TCP_GetConnectionInfo</a> (const uint16_t Port, const <a class="el" href="a00107.html">IP_Address_t</a> *RemoteAddress, const uint16_t RemotePort)</td></tr>
<tr class="separator:af804b04b55c02de98ff34ca198eeaa5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2bf6261c8743fd64cb4e8f3f59498ee"><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00053.html#aa2bf6261c8743fd64cb4e8f3f59498ee">TCP_ProcessTCPPacket</a> (void *IPHeaderInStart, void *TCPHeaderInStart, void *TCPHeaderOutStart)</td></tr>
<tr class="separator:aa2bf6261c8743fd64cb4e8f3f59498ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7520c68c25ee47e053e08c9ca361c47"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00053.html#ae7520c68c25ee47e053e08c9ca361c47">TCP_Checksum16</a> (void *TCPHeaderOutStart, const <a class="el" href="a00107.html">IP_Address_t</a> *SourceAddress, const <a class="el" href="a00107.html">IP_Address_t</a> *DestinationAddress, uint16_t TCPOutSize)</td></tr>
<tr class="separator:ae7520c68c25ee47e053e08c9ca361c47"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:af2e38fb19ac4d5ce52d9b52f5f227f8e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00131.html">TCP_PortState_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00053.html#af2e38fb19ac4d5ce52d9b52f5f227f8e">PortStateTable</a> [<a class="el" href="a00056.html#afa840db88ed23c01bb1c9af827522d17">MAX_OPEN_TCP_PORTS</a>]</td></tr>
<tr class="separator:af2e38fb19ac4d5ce52d9b52f5f227f8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a651f91ede4e43961a77e264996aea775"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00127.html">TCP_ConnectionState_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00053.html#a651f91ede4e43961a77e264996aea775">ConnectionStateTable</a> [<a class="el" href="a00056.html#a8e0985f4d6f18b8835ec23373252ef1e">MAX_TCP_CONNECTIONS</a>]</td></tr>
<tr class="separator:a651f91ede4e43961a77e264996aea775"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Transmission Control Protocol (TCP) packet handling routines. This protocol handles the reliable in-order transmission and reception of packets to and from devices on a network, to "ports" on the device. It is used in situations where data delivery must be reliable and correct, e.g. HTTP, TELNET and most other non-streaming protocols. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ae7520c68c25ee47e053e08c9ca361c47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7520c68c25ee47e053e08c9ca361c47">&#9670;&nbsp;</a></span>TCP_Checksum16()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t TCP_Checksum16 </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>TCPHeaderOutStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00107.html">IP_Address_t</a> *&#160;</td>
          <td class="paramname"><em>SourceAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00107.html">IP_Address_t</a> *&#160;</td>
          <td class="paramname"><em>DestinationAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>TCPOutSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Calculates the appropriate TCP checksum, consisting of the addition of the one's compliment of each word, complimented.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">TCPHeaderOutStart</td><td>Pointer to the start of the packet's outgoing TCP header </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">SourceAddress</td><td>Source protocol IP address of the outgoing IP header </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">DestinationAddress</td><td>Destination protocol IP address of the outgoing IP header </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">TCPOutSize</td><td>Size in bytes of the TCP data header and payload</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A 16-bit TCP checksum value </dd></dl>

</div>
</div>
<a id="af804b04b55c02de98ff34ca198eeaa5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af804b04b55c02de98ff34ca198eeaa5d">&#9670;&nbsp;</a></span>TCP_GetConnectionInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00123.html">TCP_ConnectionInfo_t</a>* TCP_GetConnectionInfo </td>
          <td>(</td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>Port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00107.html">IP_Address_t</a> *&#160;</td>
          <td class="paramname"><em>RemoteAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>RemotePort</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves the connection info structure of a given connection to a host.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Port</td><td>TCP port on the device in the connection, specified in big endian </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">RemoteAddress</td><td>Remote protocol IP address of the connected host </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">RemotePort</td><td>Remote TCP port of the connected host, specified in big endian</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ConnectionInfo structure of the connection if found, NULL otherwise </dd></dl>

</div>
</div>
<a id="ad6647c19403ac0a3be1e7319e1f35898"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6647c19403ac0a3be1e7319e1f35898">&#9670;&nbsp;</a></span>TCP_GetConnectionState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t TCP_GetConnectionState </td>
          <td>(</td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>Port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00107.html">IP_Address_t</a> *&#160;</td>
          <td class="paramname"><em>RemoteAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>RemotePort</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves the current state of a given TCP connection to a host.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Port</td><td>TCP port on the device in the connection, specified in big endian </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">RemoteAddress</td><td>Remote protocol IP address of the connected host </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">RemotePort</td><td>Remote TCP port of the connected host, specified in big endian</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A value from the <a class="el" href="a00056.html#ada8f5fbdd98f2bcd9db12a180365e1fe">TCP_ConnectionStates_t</a> enum </dd></dl>

</div>
</div>
<a id="a21124735556432c7a437998aa748cd67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21124735556432c7a437998aa748cd67">&#9670;&nbsp;</a></span>TCP_GetPortState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t TCP_GetPortState </td>
          <td>(</td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>Port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves the current state of a given TCP port, specified in big endian.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Port</td><td>TCP port whose state is to be retrieved, given in big-endian</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A value from the <a class="el" href="a00056.html#a25e27db92241172c3518ef8a237a38f6">TCP_PortStates_t</a> enum </dd></dl>

</div>
</div>
<a id="a3a02a29f93af673139608232298ef119"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a02a29f93af673139608232298ef119">&#9670;&nbsp;</a></span>TCP_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TCP_Init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes the TCP protocol handler, clearing the port and connection state tables. This must be called before TCP packets are processed. </p>

</div>
</div>
<a id="aa2bf6261c8743fd64cb4e8f3f59498ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2bf6261c8743fd64cb4e8f3f59498ee">&#9670;&nbsp;</a></span>TCP_ProcessTCPPacket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t TCP_ProcessTCPPacket </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>IPHeaderInStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>TCPHeaderInStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>TCPHeaderOutStart</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Processes a TCP packet inside an Ethernet frame, and writes the appropriate response to the output Ethernet frame if one is created by a application handler.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">IPHeaderInStart</td><td>Pointer to the start of the incoming packet's IP header </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">TCPHeaderInStart</td><td>Pointer to the start of the incoming packet's TCP header </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">TCPHeaderOutStart</td><td>Pointer to the start of the outgoing packet's TCP header</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes written to the out Ethernet frame if any, NO_RESPONSE if no response was generated, NO_PROCESS if the packet processing was deferred until the next Ethernet packet handler iteration </dd></dl>

</div>
</div>
<a id="aca742bd3ad2aa285f08818037ef70db8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca742bd3ad2aa285f08818037ef70db8">&#9670;&nbsp;</a></span>TCP_SetConnectionState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TCP_SetConnectionState </td>
          <td>(</td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>Port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00107.html">IP_Address_t</a> *&#160;</td>
          <td class="paramname"><em>RemoteAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>RemotePort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>State</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the connection state of the given port, remote address and remote port to the given TCP connection state. If the connection exists in the connection state table it is updated, otherwise it is created if possible.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Port</td><td>TCP port of the connection on the device, specified in big endian </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">RemoteAddress</td><td>Remote protocol IP address of the connected device </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">RemotePort</td><td>TCP port of the remote device in the connection, specified in big endian </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">State</td><td>TCP connection state, a value from the <a class="el" href="a00056.html#ada8f5fbdd98f2bcd9db12a180365e1fe">TCP_ConnectionStates_t</a> enum</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Boolean <code>true</code> if the connection was updated or created, <code>false</code> otherwise (no more space in the connection state table) </dd></dl>

</div>
</div>
<a id="a1707fcc52e95e8435a772bef4493c1ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1707fcc52e95e8435a772bef4493c1ac">&#9670;&nbsp;</a></span>TCP_SetPortState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TCP_SetPortState </td>
          <td>(</td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>Port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>State</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(<a class="el" href="a00127.html">TCP_ConnectionState_t</a> *, <a class="el" href="a00119.html">TCP_ConnectionBuffer_t</a> *)&#160;</td>
          <td class="paramname"><em>Handler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the state and callback handler of the given port, specified in big endian to the given state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Port</td><td>Port whose state and callback function to set, specified in big endian </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">State</td><td>New state of the port, a value from the <a class="el" href="a00056.html#a25e27db92241172c3518ef8a237a38f6">TCP_PortStates_t</a> enum </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Handler</td><td>Application callback handler for the port</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Boolean <code>true</code> if the port state was set, <code>false</code> otherwise (no more space in the port state table) </dd></dl>

</div>
</div>
<a id="a11249837b77c0f03863a1c375aa9ada6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11249837b77c0f03863a1c375aa9ada6">&#9670;&nbsp;</a></span>TCP_TCPTask()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TCP_TCPTask </td>
          <td>(</td>
          <td class="paramtype">USB_ClassInfo_RNDIS_Device_t *const&#160;</td>
          <td class="paramname"><em>RNDISInterfaceInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00103.html">Ethernet_Frame_Info_t</a> *const&#160;</td>
          <td class="paramname"><em>FrameOUT</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Task to handle the calling of each registered application's callback function, to process and generate TCP packets at the application level. If an application produces a response, this task constructs the appropriate Ethernet frame and places it into the Ethernet OUT buffer for later transmission. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a651f91ede4e43961a77e264996aea775"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a651f91ede4e43961a77e264996aea775">&#9670;&nbsp;</a></span>ConnectionStateTable</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00127.html">TCP_ConnectionState_t</a> ConnectionStateTable[<a class="el" href="a00056.html#a8e0985f4d6f18b8835ec23373252ef1e">MAX_TCP_CONNECTIONS</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Connection state table array. This contains the current status of TCP connections in the device. To save on space, only active (non-closed) connections are stored - closed connections may be overwritten at any time, and the system will assume any connections not present in the array are closed. </p>

</div>
</div>
<a id="af2e38fb19ac4d5ce52d9b52f5f227f8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2e38fb19ac4d5ce52d9b52f5f227f8e">&#9670;&nbsp;</a></span>PortStateTable</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00131.html">TCP_PortState_t</a> PortStateTable[<a class="el" href="a00056.html#afa840db88ed23c01bb1c9af827522d17">MAX_OPEN_TCP_PORTS</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Port state table array. This contains the current status of TCP ports in the device. To save on space, only open ports are stored - closed ports may be overwritten at any time, and the system will assume any ports not present in the array are closed. This allows for MAX_OPEN_TCP_PORTS to be less than the number of ports used by the application if desired. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_8f3de2ae926fecfe6abd5379fd2b6eb1.html">Lib</a></li><li class="navelem"><a class="el" href="a00053.html">TCP.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
